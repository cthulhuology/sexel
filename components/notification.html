<script>
    // Define the 'sexel-notification' component using the Sexel framework
    Sexel.tag('sexel-notification', ['header', 'message', 'type', 'dismissable'], {
        ondraw: (self) => {
            const notificationContainer = self.querySelector('#notification-container');
            const headerElement = self.querySelector('#notification-header');
            const messageElement = self.querySelector('#notification-message');
            const closeButton = self.querySelector('#close-button');
            
            // Set the header and message if provided
            headerElement.textContent = self.header() || 'Notification';
            messageElement.textContent = self.message() || 'This is a notification';

            // Set the notification type (info, success, warning, error) and apply corresponding styles
            const notificationType = self.type() || 'info';
            notificationContainer.className = `notification ${notificationType}`;

            // Show or hide the close button based on 'dismissable' attribute
            if (self.dismissable()) {
                closeButton.style.display = 'inline';
            } else {
                closeButton.style.display = 'none';
            }

            // Add event listener for close button to hide the notification
            closeButton.onclick = () => {
                notificationContainer.style.display = 'none';
            };
	  
            self.open = () => {
                notificationContainer.style.display = 'block';
	    }
            
	    self.close = () => {
                notificationContainer.style.display = 'none';
	    }
        }
    });
</script>

<style>
    /* Basic styling for notification */
    .notification {
        padding: 20px;
        margin: 10px 0;
        position: relative;
        box-shadow: var(--base-shadow);
        border-radius: var(--notification-radius);
    }

    /* Notification types */
    .notification.info {
        background-color: var(--color-info-background);
        color: var(--color-info-foreground);
    }

    .notification.success {
        background-color: var(--color-success-background);
        color: var(--color-success-foreground);
    }

    .notification.warning {
        background-color: var(--color-warn-background);
        color:  var(--color-warn-foreground);
    }

    .notification.error {
        background-color: var(--color-error-background);
        color: var(--color-error-foreground);
    }

    /* Title styling */
    .notification-header {
        font-weight: bold;
        margin-bottom: 10px;
    }

    /* Close button styling */
    .notification-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
    }
</style>

<template id="sexel-notification">
    <div id="notification-container" class="notification">
        <span id="notification-header" class="notification-header"></span>
        <p id="notification-message" class="notification-message"></p>
        <button id="close-button" class="notification-close">&times;</button>
    </div>
</template>

