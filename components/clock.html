<script>
    // Define the 'sexel-clock' component using the Sexel framework
    Sexel.tag('sexel-clock', ['datestamp'], {
        ondraw: (self) => {
            const clockElement = self.querySelector('#clock-display');
            const dateStamp = self.datestamp();
            
            // Function to format the date and time
            const formatDateTime = (date) => {
                return date.toLocaleString('en-US', {
                    weekday: 'short',
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
            };

            // If a datestamp is provided, use it; otherwise, show the current time
            if (dateStamp) {
                const date = new Date(dateStamp);
                clockElement.textContent = formatDateTime(date);
            } else {
                // Update every second with the current time
                const updateTime = () => {
                    const currentDate = new Date();
                    clockElement.textContent = formatDateTime(currentDate);
                };
                updateTime();
                setInterval(updateTime, 1000); // Refresh every second
            }
        }
    });
</script>

<style>
    .sexel-clock {
        font-family: 'Arial', sans-serif;
        font-size: var(--base-font-larger);
        font-weight: bold;
        padding: 10px;
        background-color: var(--base-background);
        border: var(--base-border);
        border-radius: var(--base-border-radius);
        text-align: center;
        box-shadow: var(--base-shadow);
    }
</style>

<template id="sexel-clock">
    <div class="sexel-clock" id="clock-display"></div>
</template>

